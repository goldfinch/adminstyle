@import '../enchantment/variables.scss';

@import '../silverstripe-admin/client/src/styles/_variables.scss';

.cms-menu__list li ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.cms-menu__list li.current a {

  &:before {
    opacity: 1;
  }
}

.cms-menu__list li li {
  background-color: #fff;
  transition: background-color .3s ease-in-out;
}
.cms-menu__list li.current li {
  background-color: unset; // lighten($brand-secondary, 60);
}

.cms-menu__list li ul.group li a:before {
  display: none;
}

.cms-menu__list li a .text {
  position: relative;
}

.cms-menu__list li.current.children:not(.opened) > a {

  &:before {
    background-color: unset; // lighten($brand-secondary, 50);
  }
}
.cms-menu__list li.current.children:not(.opened) > a .text {
  color: $brand-secondary;
}

.cms-menu__list li.current.children.opened > a {

  &:before {
    opacity: 1;
    background-color: $brand-primary;
  }
}
.cms-menu__list li.current.children.opened > a .text {
  color: #fff;

  &:before {
    background-color: lighten($brand-secondary, 50);
  }
}



.cms-menu__list li.current.children:not(.opened) > ul li a {

  &:before {
    background-color: red; // lighten($brand-secondary, 50);
  }
}

.cms-menu__list li.current.children:not(.opened) > ul li a .text {
  color: $brand-secondary;
}

.cms-menu__list li.current.children.opened > ul li a .text {
  color: $brand-secondary;
}

.cms-menu__list li ul.group li a {
  transition: background-color .3s ease-in-out;

  &:before {
    background-color: lighten($brand-secondary, 60);
  }
}


.cms-menu__list li.children ul li a {
  padding: 0;
  margin: 0;
  height: auto;
  min-height: auto;
  position: relative;
  transition: background-color .3s ease-in-out;
  background-color: #f3f3f3;
}

.cms-menu__list li.children ul li a span.text {
  margin: 0;
  padding: 8px 6px 8px 40px;
  position: relative;

  &:before {
    content: '-';
    position: absolute;
    top: 7px;
    left: 19px;
  }
}

.cms-menu__list li.children.opened .current a {
  background-color: #efefef;
}

.cms-menu__list li.children.opened .current.opened a {
  background-color: #efefef;
}

.cms-menu__list li.children.link > a:hover {
  background-color: #f3f3f3;
}

.cms-menu__list li.children.opened a:hover {
  background-color: #f3f3f3;
}

.cms-menu__list li.children.opened:not(.current) > a {
  background-color: #efefef;

  &:before {
    opacity: .1;
  }
}

.cms-menu__list li.children.opened:not(.current) > ul li a {

  &:hover {
    background-color: #efefef;
  }
}

.cms-menu__list li.children.opened.current > ul li a {

  &:hover {
    background-color: #efefef;
  }
}

.cms-menu__list li ul li a .menu__icon {
  display: none;
}

.cms-menu__list > li > a .menu__icon {

  &:before {}
}

.cms-menu__list li a span.toggle-children {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}

.cms-menu__list li > a .toggle-children .toggle-children-icon {
  width: 16px !important;
  height: 16px !important;
  font-size: 16px;
  color: #fff;
  background: unset !important;
  background-image: unset !important;
  overflow: unset;
  border: none;
  transform: rotate(0);

  &:before {
    transform: rotate(0deg);
    color: $brand-primary;
    position: absolute;
  }
}
.cms-menu__list li.current > a .toggle-children.opened .toggle-children-icon {

  &:before {
    color: $brand-primary;
    transform: rotate(45deg);
  }
}

.cms-menu__list li.current > a .toggle-children.opened .toggle-children-icon {

  &:before {
    color: #fff;
  }
}


.cms-menu__list li.children.current a .menu__icon {
  color: $brand-primary;
}
.cms-menu__list li.children.current.opened a .menu__icon {
  color: #fff;
}

.cms-menu__list li.children.current:not(.opened) > a {

  &:before {
    content: "";
    display: block;
    background-color: $brand-primary;
    width: 100%;
    height: 100%;
    opacity: 0;
    position: absolute;
    z-index: 1;
    top: 0;
    left: 0;
    border-radius: 0;
    transition: all 0.5s ease-in-out;
  }
}

.cms-menu__list li.children:not(.opened) > a {

  &:before {}

  &:hover {
    background-color: #fff !important;

    &:before {
      opacity: .1;
    }
  }
}
